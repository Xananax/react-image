<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>react-image-file</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">react-image-file</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> react-image-file</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="react-image-file">React-Image-File</h1>
				<p>An image component that accepts:</p>
				<ul>
					<li><code>file</code>s objects (such as the ones returned from an upload field in the browser)</li>
					<li><code>blob</code>s (as returned, from example, from couchdb)</li>
					<li><code>string</code>s (normal src string used in regular images)</li>
				</ul>
				<p>It has several mechanisms to act on the image at different stages of loading.</p>
				<p>This is a suitable component to build an upload field that previews images,
				or load images asynchronously and fade them in once they are</p>
				<p>The module also contains a few bonuses, such as an image upload field and a propType</p>
				<p>Entirely written in Typescript and decently well typed, but lacking tests for the time being unfortunately :(</p>
				<ul>
					<li>repo <a href="https://github.com/Xananax/react-image-file">here</a></li>
					<li>demo <a href="http://xananax.github.io/react-image-file/">here</a></li>
					<li>documentation (in progress) <a href="http://xananax.github.io/react-image-file/doc">here</a></li>
				</ul>
				<h2 id="usage">Usage</h2>
				<pre><code class="lang-sh">npm install react-image-file
</code></pre>
				<pre><code class="lang-js"><span class="hljs-keyword">import</span> ImageLoader <span class="hljs-keyword">from</span> <span class="hljs-string">'react-image-file'</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ImageLoader</span> <span class="hljs-attr">file</span>=<span class="hljs-string">{file}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">'some text'</span>/&gt;</span>
</span>
</code></pre>
				<p><code>file</code> can be either a <code>Blob</code>, a <code>File</code>, or a src <code>string</code>.</p>
				<p>You might also need to include the following css somehow:</p>
				<pre><code class="lang-css"><span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=file]</span>, <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=file]</span><span class="hljs-selector-pseudo">::-webkit-file-upload-button</span> { <span class="hljs-attribute">cursor</span>: pointer }
</code></pre>
				<p>Other useful props:</p>
				<ul>
					<li><code>template [string|React]</code> decides which template is rendered. This must be a valid React component or string. Two templates are provided by default, a <code>&lt;div&gt;</code> template that renders to a <code>background-image</code> and an <code>&lt;img&gt;</code> template </li>
					<li><code>type</code>: one of <code>div</code> or <code>img</code>. Decides which template is to be used, of the two default ones. Defaults to <code>div</code>.</li>
					<li><code>alt [string]</code>: used if the image renders to an <code>&lt;img&gt;</code> tag</li>
					<li><code>crop [CropAttribute]</code>: one of <code>contain</code>, <code>cover</code>, or <code>null</code>. Defaults to <code>contain</code>. Used if the image renders to a <code>&lt;div&gt;</code> template</li>
					<li><code>loadingURL [string]</code>: an image URL to display while loading an image</li>
					<li><code>errorURL [string]</code>: an image URL to display in case of error</li>
					<li><code>emptyURL [string]</code>: an image URL to display when nothing is loading yet</li>
					<li><code>width [number]</code>: specify the width of the image. If not provided, the width of the actual loaded bitmap will be used</li>
					<li><code>height [number]</code>: specify the height of the image. If not provided, the height of the actual loaded bitmap will be used</li>
				</ul>
				<p>Additionally, the following are passed to the template, should you want to use your own:</p>
				<ul>
					<li><code>src</code>: a string (either the string passed in <code>file</code>, or a base-64 representation of the Blob/File)</li>
					<li><code>imgWidth</code>: the width of the loaded image</li>
					<li><code>imgHeight</code>: the height of the loaded image</li>
					<li><code>status</code>: one of <code>EMPTY</code>, <code>DONE</code>, <code>LOADING</code>, or <code>ERROR</code></li>
					<li><code>...</code> and all other props passed to <code>Image</code>.</li>
				</ul>
				<p>You also get, for free, an <code>UploadField</code> and an <code>ImageUploadField</code> components, but they&#39;re raw and will stay this way. It is my opinion that providing hooks for all the possible customizations that one would want from an upload field is counter productive, so feel free to study the structure and build your own implementations.</p>
				<p>If you want to use them:</p>
				<pre><code class="lang-js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> ImageUploadField <span class="hljs-keyword">from</span> <span class="hljs-string">'react-image-file/ImageUploadField'</span>

<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span></span>{ 
  <span class="hljs-keyword">constructor</span>( props, context ){ 
    <span class="hljs-keyword">super</span>( props, context )
    <span class="hljs-keyword">this</span>.state = { <span class="hljs-attr">files</span>: [] }
  }
  onFilesChange = <span class="hljs-function">(<span class="hljs-params"> files: File[] </span>) =&gt;</span>{ 
    <span class="hljs-keyword">this</span>.setState( { files } )
  }
  onSubmit = <span class="hljs-function">(<span class="hljs-params"> evt: FormEvent&lt;HTMLFormElement&gt; </span>) =&gt;</span> { 
    evt.preventDefault()
    <span class="hljs-keyword">const</span> { files, <span class="hljs-attr">file</span>:[file], text } = <span class="hljs-keyword">this</span>.state
    <span class="hljs-keyword">const</span> body = <span class="hljs-keyword">new</span> FormData();
    body.append(<span class="hljs-string">'text'</span>,text)
    body.append(<span class="hljs-string">'file'</span>,file)
    files.map( <span class="hljs-function">(<span class="hljs-params"> f, i </span>) =&gt;</span> body.append(<span class="hljs-string">`files[<span class="hljs-subst">${i}</span>]`</span>,f) )
    fetch(<span class="hljs-string">'http://localhost:8000'</span>, { <span class="hljs-attr">method</span>:<span class="hljs-string">'POST'</span>, body })
      .then( <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.json() )
      .then( <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> <span class="hljs-built_in">console</span>.log( response ) )
    <span class="hljs-built_in">console</span>.log(body)
    <span class="hljs-built_in">console</span>.log( { text, file ,files } )
  }
  render(){
      <span class="hljs-keyword">return</span>(
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ImageUploadField</span>
          <span class="hljs-attr">label</span>=<span class="hljs-string">'upload images'</span>
          <span class="hljs-attr">imageWidth</span>=<span class="hljs-string">{50}</span> 
          <span class="hljs-attr">imageHeight</span>=<span class="hljs-string">{50}</span> 
          <span class="hljs-attr">multiple</span> 
          <span class="hljs-attr">thumbnailClassName</span>=<span class="hljs-string">"upload-thumbnail"</span>
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(files)</span>=&gt;</span>this.setState({files:files})} 
          files={this.state.files}
      /&gt;
    );
  }</span>
</code></pre>
				<p>You can check a full example, including a server to handle files on the other end, in <code>./src/demo</code>.
				I have kind of a disgusting style, so if you have problems, open an issue, I&#39;ll revert to something more classical.</p>
				<p>From version 0.3.0 on, this package will follow semver. However, internal packages such as image file upload, provided as convenience, will not. </p>
				<h1 id="devving">Devving</h1>
				<p>I welcome contributions of course.
				Scripts of interest:</p>
				<p>Start a demo with an image file uploader to check if everything works</p>
				<pre><code class="lang-sh">npm start
</code></pre>
				<p>Builds the demo in &#39;./dist&#39; and uploads it to gh-pages</p>
				<pre><code class="lang-sh">npm run deploy
</code></pre>
				<p>Compiles typescript and readies the module for publishing on npm</p>
				<pre><code class="lang-sh">npm run compile
</code></pre>
				<p>Removes the &#39;./build&#39; directory</p>
				<pre><code class="lang-sh">npm clean:build
</code></pre>
				<p>Removes the &#39;./dist&#39; directory</p>
				<pre><code class="lang-sh">npm clean:dist
</code></pre>
				<h1 id="log">Log</h1>
				<ul>
					<li>0.3.0<ul>
							<li>total re-writing</li>
							<li>got rid of typings</li>
							<li>broken down functionality in bite-sized files</li>
							<li><em>breaking change</em>: <code>Image</code> is now called <code>ImageLoader</code>, if someone was requiring it by name</li>
							<li><em>breaking change</em>: the file&#39;s entry point only exports <code>Image</code> now. Other components must be loaded individually</li>
						</ul>
					</li>
					<li>0.2.0<ul>
							<li>Converted to Typescript</li>
						</ul>
					</li>
					<li>0.1.0<ul>
							<li>First iteration<h1 id="license">License</h1>
							</li>
						</ul>
					</li>
				</ul>
				<p>MIT</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_imageloader_.html">"<wbr>Image<wbr>Loader"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_imagetemplate_.html">"<wbr>Image<wbr>Template"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_imageuploadfield_.html">"<wbr>Image<wbr>Upload<wbr>Field"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_uploadfield_.html">"<wbr>Upload<wbr>Field"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_uploadfieldtemplate_.html">"<wbr>Upload<wbr>Field<wbr>Template"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_constants_.html">"constants"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_createhtmlimageelement_.html">"createHTMLImage<wbr>Element"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_index_.html">"index"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_isblob_.html">"is<wbr>Blob"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_isdefined_.html">"is<wbr>Defined"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_isfile_.html">"is<wbr>File"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_isimageloaded_.html">"is<wbr>Image<wbr>Loaded"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_isreadable_.html">"is<wbr>Readable"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_isstring_.html">"is<wbr>String"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_load_.html">"load"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_loadimageprops_.html">"load<wbr>Image<wbr>Props"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_noop_.html">"no<wbr>Op"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_package_.html">"package"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_readableurlproptype_.html">"readableURLProp<wbr>Type"</a>
					</li>
					<li class=" tsd-kind-external-module">
						<a href="modules/_transparentgif_.html">"transparentGIF"</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>